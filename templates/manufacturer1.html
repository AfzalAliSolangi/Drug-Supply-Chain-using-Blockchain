<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<title>Orders Dashboard</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
  }
  .sidebar {
    background-color: #5D3FD3;
    width: 80px;
    height: calc(100vh - 60px); /* Adjusts height to take top bar into account */
    position: fixed;
    padding-top: 20px;
    top: 60px; /* Starts directly below the top bar */
    left: 0;
  }
  .sidebar a {
    display: block;
    color: white;
    padding: 10px;
    text-decoration: none;
    text-align: center;
  }
  .sidebar a:hover {
    background-color: #4CAF50;
  }
  .top-bar {
    background: #FFFFFF;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed; /* Makes the top bar fixed at the top */
    width: 100%; /* Ensures it covers the full width */
    top: 0;
    left: 0;
    z-index: 1000; /* Ensures it stays on top */
  }
  .top-bar img {
    border-radius: 50%; /* Makes the image rounded */
    margin-right: 10px; /* Adds spacing between the image and the name */
  }
  
  .top-bar span {
    font-size: 16px; /* Adjust font size as needed */
    margin-right: 20px; /* Adds spacing between the name and the logout button */
  }
  .table {
    margin-left: 80px; /* Same as sidebar width */
    padding: 20px;
    margin-top: 60px; /* Adds margin to top to account for the fixed top bar */
  }
  .button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 4px;
  }
</style>
</head>
<body>

<div class="sidebar">
    <a href="#" class="btn" onclick="event.preventDefault(); distorders('{{ email }}')">Orders</a>
    <a href="#" class="btn" onclick="event.preventDefault(); viewInventory('{{ email }}')">Inventory</a>
    <a href="#" class="btn" onclick="event.preventDefault(); addDrug('{{ email }}', '{{ company_info }}')">Add Drug</a>
</div>

<div class="top-bar">
    <img src="logo.png" alt="Company Logo" style="height: 40px;">
    <div style="display: flex; align-items: center;">
      <img src="https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png" alt="User Profile" style="height: 40px; border-radius: 50%; margin-right: 10px;">
      <span>{{ company_info }}</span>
      <button class="button">Logout</button>
    </div>
  </div>

<div class="table">
  <table>
    <tr>
      <th>Order ID</th>
      <th>Date</th>
      <th>Status</th>
      <th>Total</th>
    </tr>
    <!-- Add rows here -->
  </table>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function distorders(email) {
        console.log("Email Distribution:", email);
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = '/manuorders';  // Replace with the actual URL for completing purchase
        form.style.display = 'none';
        const emailInput = document.createElement('input');
        emailInput.type = 'hidden';
        emailInput.name = 'email';
        emailInput.value = email;
        form.appendChild(emailInput);
        document.body.appendChild(form);
        form.submit();
    }
    function viewInventory(email) {
        console.log("Viewing inventory...");
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = '/viewmanuinvent';  // Replace with the actual URL for completing purchase
        form.style.display = 'none';
        const emailInput = document.createElement('input');
        emailInput.type = 'hidden';
        emailInput.name = 'email';
        emailInput.value = email;
        form.appendChild(emailInput);
        document.body.appendChild(form);
        form.submit();
    }
    function addDrug(email, company_info) {
        console.log("Adding drug...");
        window.location.href = '/adddrugmenu';  // Replace with the actual URL for adding drug
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = '/adddrugmenu';  // Replace with the actual URL for adding drug
        form.style.display = 'none';
        const emailInput = document.createElement('input');
        emailInput.type = 'hidden';
        emailInput.name = 'email';
        emailInput.value = email;
        form.appendChild(emailInput);
        const companyinfoInput = document.createElement('input');
        companyinfoInput.type = 'hidden';
        companyinfoInput.name = 'company_info';
        companyinfoInput.value = company_info;
        form.appendChild(companyinfoInput);
        document.body.appendChild(form);
        form.submit();
    }
</script>
</body>
</html>
